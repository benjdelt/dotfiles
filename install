#!/usr/bin/env bash

readonly SCRIPT_DIR=$(dirname "$0")

cd "$(pwd)/$SCRIPT_DIR" || exit 1

optlist=":aAdhptv"

# Process help first
while getopts $optlist options; do
    case ${options} in
	h)
	    echo 'help'
	    exit 0
	    ;;
    esac
done
OPTIND=1

# Process the run All scripts option in priority
while getopts $optlist options; do
    case ${options} in
	A) 
	    echo 'All'
	    exit 0 
	    ;;
    esac
done
OPTIND=1

# Then process the almost all scripts option
while getopts $optlist options; do
    case ${options} in
        a) 
	    echo 'Almost all'
	    exit 0 
	    ;;
    esac
done
OPTIND=1

# Finally process the rest of the options
while getopts $optlist options; do
    case ${options} in
	d) echo 'dotfiles' ;;
	p) echo 'packages' ;;
	t) echo 'tools' ;;
	v) echo 'vim' ;;
	\?) echo "Invalid option: $OPTARG" 1>&2
            echo 'Try './install -h' for more information' 1>&2
	    ;;
    esac
done
shift $((OPTIND -1))

